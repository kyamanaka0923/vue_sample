<!DOCTYPE html>
<html>
<head>
<title>Welcome to Vue</title>
<!-- import CSS -->
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<!-- import JavaScript -->
<link rel="stylesheet" media="screen" href="node_modules/handsontable/dist/handsontable.full.css">
</head>
<body>
	<div id="app">
		<el-row>
		<el-col :span="24">
			<el-table border :data="facilityTable">
				<el-table-column label="設備名" prop="name"></el-table-column>
				<el-table-column label="No." prop="number"></el-table-column>
				<el-table-column label="操作">
					<template slot-scope="scope">
						<el-button 
							@click="selectedFacilityName=scope.row.name;
						   	     	selectedFacilityNumber=scope.row.number;
								   	dialogVisible=true">編集</el-button>
					</template>
				</el-table-coloumn>
			</el-table>
		</el-col>

		<el-dialog 
			title="設備情報編集" 
			:visible.sync="dialogVisible"
		>
		<span>設備No: {{ selectedFacilityNumber }}</span>
		  <span>設備名: <el-input v-model="selectedFacilityName"></el-input></span>
		  <span slot="footer" class="dialog-footer">
			  <el-button type="primary">登録</el-button>
			  <el-button @click="dialogVisible=false">Cancel</el-button>
		  </span>
		</el-dialog>
	</div>

<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://unpkg.com/element-ui/lib/umd/locale/ja.js"></script>
<script src="node_modules/handsontable/dist/handsontable.full.js"></script>
<script>
ELEMENT.locale(ELEMENT.lang.ja);
new Vue({
		el: '#app',
		data: function(){
				return { 
						facilityTable: [
							{
								name: '設備1',
								number: 1
							},{
								name: '設備2',
								number: 2}],
						selectedFacilityName: '',
						selectedFacilityNumber: '',
						dialogVisible : false
				}
		},
		methods: {
				handleClick(index, row){
						console.log(index, row);
				}
		}
})

</script>
</body>
</html>
